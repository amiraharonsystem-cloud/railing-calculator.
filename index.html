<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××¢×¨×›×ª ×“×•×—×•×ª ××¢×§×” - ×ª"×™ 1142</title>
    <style>
        :root { --blue: #1a4a7a; --bg: #f4f7f9; }
        body { font-family: system-ui, sans-serif; background: var(--bg); margin: 0; direction: rtl; padding: 10px; }
        .app-container { max-width: 600px; margin: auto; background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); overflow: hidden; }
        .tabs { display: flex; background: #eee; }
        .tab { flex: 1; padding: 15px 5px; text-align: center; cursor: pointer; font-weight: bold; color: #666; font-size: 14px; border-bottom: 2px solid #ddd; }
        .tab.active { background: white; color: var(--blue); border-bottom: 3px solid var(--blue); }
        .tab-content { display: none; padding: 20px; }
        .tab-content.active { display: block; }
        .field { margin-bottom: 12px; }
        label { display: block; font-size: 13px; font-weight: 700; margin-bottom: 4px; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; box-sizing: border-box; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .btn-next { width: 100%; background: var(--blue); color: white; padding: 15px; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        
        /* ×¢×™×¦×•×‘ ×”×“×•×— ×”×¡×•×¤×™ */
        #final-report { display: none; background: white; padding: 20px; border: 2px solid #000; margin-top: 20px; line-height: 1.6; }
        .report-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .report-table td, .report-table th { border: 1px solid #000; padding: 8px; text-align: right; }
        .header-title { text-align: center; font-weight: bold; font-size: 18px; text-decoration: underline; margin-bottom: 20px; }
        @media print { .tabs, .btn-next, .field, label, .app-container { display: none; } #final-report { display: block; } }
    </style>
</head>
<body>

<div class="app-container" id="form-ui">
    <div class="tabs">
        <div class="tab active" id="t0" onclick="showTab(0)">×× ×”×œ×”</div>
        <div class="tab" id="t1" onclick="showTab(1)">××ª×¨</div>
        <div class="tab" id="t2" onclick="showTab(2)">×—×™×©×•×‘×™×</div>
        <div class="tab" id="t3" onclick="showTab(3)">×¡×™×›×•×</div>
    </div>

    <div id="tab0" class="tab-content active">
        <div class="field"><label>×§×•×“ ×¤×¨×•×™×§×˜</label><input type="text" id="p_code"></div>
        <div class="field"><label>×©× ×”××–××™×Ÿ</label><input type="text" id="c_name"></div>
        <div class="field"><label>× ×¦×™×’ ×”××–××™×Ÿ</label><input type="text" id="c_rep"></div>
        <div class="field"><label>×ª××¨×™×š</label><input type="date" id="r_date"></div>
        <button class="btn-next" onclick="showTab(1)">×”××©×š ×œ××ª×¨ â”</button>
    </div>

    <div id="tab1" class="tab-content">
        <div class="field"><label>×›×ª×•×‘×ª ×”××ª×¨</label><input type="text" id="s_addr"></div>
        <div class="field"><label>×ª×™××•×¨ ×”×¤×¨×™×˜</label><input type="text" id="i_desc" placeholder="××¢×§×” ×–×›×•×›×™×ª..."></div>
        <div class="field"><label>××™×§×•× ×”×‘×“×™×§×”</label><input type="text" id="t_loc" placeholder="×§×•××”/×“×™×¨×”"></div>
        <button class="btn-next" onclick="showTab(2)">×”××©×š ×œ×—×™×©×•×‘×™× â”</button>
    </div>

    <div id="tab2" class="tab-content">
        <div class="field">
            <label>×¢×™×¨ (×—×™×¤×•×© ××•×˜×•××˜×™)</label>
            <input list="cities" id="city_input" placeholder="×”×§×œ×“ ×©× ×™×©×•×‘...">
            <datalist id="cities">
                <option value="××©×“×•×“"><option value="××©×§×œ×•×Ÿ"><option value="×‘××¨ ×©×‘×¢"><option value="×‘×ª ×™×"><option value="×’×‘×¢×ª×™×™×"><option value="×”×•×“ ×”×©×¨×•×Ÿ"><option value="×”×¨×¦×œ×™×”"><option value="×—×•×œ×•×Ÿ"><option value="×—×™×¤×”"><option value="×˜×‘×¨×™×”"><option value="×™×¨×•×©×œ×™×"><option value="×›×¤×¨ ×¡×‘×"><option value="×œ×•×“"><option value="××•×“×™×¢×™×Ÿ"><option value="× ×”×¨×™×”"><option value="× ×ª× ×™×”"><option value="×¢×›×•"><option value="×¢×¤×•×œ×”"><option value="×¤×ª×— ×ª×§×•×•×”"><option value="×¦×¤×ª"><option value="×§×¨×™×ª ×’×ª"><option value="×¨××©×•×Ÿ ×œ×¦×™×•×Ÿ"><option value="×¨×—×•×‘×•×ª"><option value="×¨××œ×”"><option value="×¨××ª ×’×Ÿ"><option value="×¨×¢× × ×”"><option value="×ª×œ ××‘×™×‘-×™×¤×•">
            </datalist>
        </div>
        <div class="grid">
            <div class="field"><label>×’×•×‘×” ×œ×•×— (×')</label><input type="number" id="h_val" value="1.10" oninput="calcS()"></div>
            <div class="field"><label>××•×¨×š ×œ×•×— (×')</label><input type="number" id="w_val" value="1.00" oninput="calcS()"></div>
        </div>
        <div style="background:#eef; padding:10px; border-radius:8px; text-align:center; font-weight:bold;">
            ×©×˜×— ××—×•×©×‘ S = <span id="s_res">1.10</span> ×"×¨
        </div>
        <div class="grid" style="margin-top:10px;">
            <div class="field"><label>L1 ×—×–×™×ª</label><input type="number" id="l1" value="1.50"></div>
            <div class="field"><label>L2 ×¤×™× ×”</label><input type="number" id="l2" value="1.50"></div>
        </div>
        <button class="btn-next" onclick="showTab(3)">×”×¦×’ ×“×•×— ×¡×•×¤×™ â”</button>
    </div>

    <div id="tab3" class="tab-content">
        <div class="field"><label>×‘×“×™×§×” ×—×–×•×ª×™×ª</label><select id="v1"><option>××ª××™×</option><option>×œ× ××ª××™×</option></select></div>
        <div class="field"><label>×‘×“×™×§×” ×’×™××•××˜×¨×™×ª</label><select id="v2"><option>××ª××™×</option><option>×œ× ××ª××™×</option></select></div>
        <div class="field"><label>×”×¢×¨×•×ª</label><textarea id="notes" rows="3"></textarea></div>
        <button class="btn-next" style="background:#27ae60;" onclick="viewReport()">×”×¦×’ ×“×•×— ×¨×©××™</button>
    </div>
</div>

<div id="final-report">
    <div class="header-title">×ª×¢×•×“×ª ×‘×“×™×§×ª ××¢×§×” ×‘××¢×˜×¤×ª ×”×‘× ×™×™×Ÿ (×ª"×™ 1142)</div>
    <table class="report-table">
        <tr>
            <td colspan="2"><b>×§×•×“ ×¤×¨×•×™×§×˜:</b> <span id="out_p"></span></td>
            <td colspan="2"><b>×ª××¨×™×š:</b> <span id="out_date"></span></td>
        </tr>
        <tr>
            <td colspan="4"><b>×©× ×”××–××™×Ÿ:</b> <span id="out_cname"></span></td>
        </tr>
        <tr>
            <td colspan="2"><b>×›×ª×•×‘×ª ×”××ª×¨:</b> <span id="out_addr"></span></td>
            <td colspan="2"><b>× ×¦×™×’ ×‘×‘×“×™×§×”:</b> <span id="out_rep"></span></td>
        </tr>
        <tr>
            <th colspan="4" style="background:#eee;">×¤×¨×˜×™ ×”××¢×¨×›×ª ×•×”×‘×“×™×§×”</th>
        </tr>
        <tr>
            <td colspan="2"><b>×ª×™××•×¨ ×”×¤×¨×™×˜:</b> <span id="out_item"></span></td>
            <td colspan="2"><b>××™×§×•×:</b> <span id="out_loc"></span></td>
        </tr>
        <tr>
            <td colspan="2"><b>×¢×™×¨:</b> <span id="out_city"></span></td>
            <td colspan="2"><b>×©×˜×— ×œ×•×— S:</b> <span id="out_s"></span> ×"×¨</td>
        </tr>
        <tr>
            <td><b>L1 ×—×–×™×ª:</b> <span id="out_l1"></span></td>
            <td><b>L2 ×¤×™× ×”:</b> <span id="out_l2"></span></td>
            <td colspan="2"><b>×¡×˜×˜×•×¡ ×—×–×•×ª×™:</b> <span id="out_v1"></span></td>
        </tr>
        <tr>
            <td colspan="4"><b>×”×¢×¨×•×ª:</b> <span id="out_notes"></span></td>
        </tr>
    </table>
    <br>
    <button class="btn-next" onclick="window.print()">ğŸ–¨ï¸ ×”×“×¤×¡ ×œ-PDF</button>
    <button class="btn-next" style="background:#666;" onclick="location.reload()">×—×–×•×¨ ×œ×¢×¨×™×›×”</button>
</div>

<script>
    document.getElementById('r_date').valueAsDate = new Date();

    function calcS() {
        const h = document.getElementById('h_val').value || 0;
        const w = document.getElementById('w_val').value || 0;
        document.getElementById('s_res').innerText = (h * w).toFixed(2);
    }

    function showTab(idx) {
        document.querySelectorAll('.tab-content').forEach((c, i) => c.classList.toggle('active', i === idx));
        document.querySelectorAll('.tab').forEach((t, i) => t.classList.toggle('active', i === idx));
    }

    function viewReport() {
        document.getElementById('form-ui').style.display = 'none';
        document.getElementById('final-report').style.display = 'block';

        // ××™×œ×•×™ × ×ª×•× ×™× ×‘×˜×‘×œ×”
        document.getElementById('out_p').innerText = document.getElementById('p_code').value;
        document.getElementById('out_date').innerText = document.getElementById('r_date').value;
        document.getElementById('out_cname').innerText = document.getElementById('client_name')?.value || document.getElementById('c_name').value;
        document.getElementById('out_addr').innerText = document.getElementById('s_addr').value;
        document.getElementById('out_rep').innerText = document.getElementById('c_rep').value;
        document.getElementById('out_item').innerText = document.getElementById('i_desc').value;
        document.getElementById('out_loc').innerText = document.getElementById('t_loc').value;
        document.getElementById('out_city').innerText = document.getElementById('city_input').value;
        document.getElementById('out_s').innerText = document.getElementById('s_res').innerText;
        document.getElementById('out_l1').innerText = document.getElementById('l1').value;
        document.getElementById('out_l2').innerText = document.getElementById('l2').value;
        document.getElementById('out_v1').innerText = document.getElementById('v1').value;
        document.getElementById('out_notes').innerText = document.getElementById('notes').value;
    }
</script>
</body>
</html>
